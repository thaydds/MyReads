(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,a){e.exports=a(315)},309:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(43),c=a.n(r),i=a(106),l=a(44),u=a(45),s=a(48),h=a(46),m=a(49),d=a(324),k=a(323),b=a(320),p=a(329),f=a(103),v=a(314),g=a(330),E=a(322),y=function e(t,a){var n;n="twitter"===a?"https://twitter.com/intent/tweet/?text=".concat(t.split(" ").join("%20"),"&url=http%3A%2F%2Fhttp://sharingbuttons.io"):"telegram"===a?"https://telegram.me/share/url?text=".concat(t.split(" ").join("+"),"&url=http%3A%2F%2Fsharingbuttons.io"):"https://plus.google.com/share?url=http%3A%2F%2Fsharingbuttons.io",window.open(n,e)},S=function(e){return o.a.createElement(k.a,null,o.a.createElement(k.a.Content,null,o.a.createElement(k.a.Header,{textAlign:"center",style:{marginBottom:"0.7em",height:20,fontSize:15}},e.book.title)),o.a.createElement(k.a.Content,null,void 0===e.book.imageLinks.smallThumbnail?"":o.a.createElement(v.a,{style:{width:100,height:160},floated:"left",src:e.book.imageLinks.smallThumbnail}),o.a.createElement(k.a.Meta,{style:{fontSize:14}},o.a.createElement(p.a,{as:"h5"},"Authors:"),void 0===e.book.authors?"not found":e.book.authors.map(function(e){return e})),o.a.createElement(k.a.Meta,{style:{fontSize:14}},o.a.createElement(p.a,{as:"h5"},"Publisher:"),void 0===e.book.publisher?"not found":e.book.publisher),o.a.createElement(k.a.Meta,{style:{fontSize:14}},o.a.createElement(p.a,{as:"h5"},"Pages:"),void 0===e.book.publisher?"not found":e.book.pageCount),o.a.createElement(k.a.Meta,{floated:"right",style:{fontSize:14}},o.a.createElement(p.a,{as:"h5"},"PublishedYear:"),void 0===e.book.publishedDate?"not found":e.book.publishedDate.substring(0,4)),o.a.createElement(k.a.Description,null,o.a.createElement(g.a,{disabled:!0,icon:"star",defaultRating:Math.ceil(e.book.averageRating),maxRating:5}))),o.a.createElement(k.a.Content,{extra:!0},o.a.createElement("div",{className:"ui two buttons"},o.a.createElement(E.a,{text:"Share",floating:!0,labeled:!0,button:!0,icon:"share",className:"icon"},o.a.createElement(E.a.Menu,null,o.a.createElement(E.a.Header,{content:"Social Media"}),o.a.createElement(E.a.Divider,null),o.a.createElement(E.a.Item,{onClick:function(t,a){var n=a.value;return y("I ".concat(e.book.shelf," ").concat(e.book.title),n)},value:"telegram",icon:"telegram",text:"Telegram"}),o.a.createElement(E.a.Item,{onClick:function(t,a){var n=a.value;return y("I ".concat(e.book.shelf," ").concat(e.book.title),n)},value:"twitter",icon:"twitter square",text:"Twitter"}),o.a.createElement(E.a.Item,{onClick:function(t,a){var n=a.value;return y("I ".concat(e.book.shelf," ").concat(e.book.title),n)},icon:"google plus square",text:"Google"}))),o.a.createElement(E.a,{text:"Move",floating:!0,labeled:!0,button:!0,icon:"move",className:"icon"},o.a.createElement(E.a.Menu,null,o.a.createElement(E.a.Header,{content:"Shelf"}),o.a.createElement(E.a.Divider,null),o.a.createElement(E.a.Item,{onClick:function(t,a){var n=a.value;return e.updateBook(e.book,n)},value:"currentlyReading",icon:"book",selected:"currentlyReading"===e.book.shelf,text:"Currently Reading"}),o.a.createElement(E.a.Item,{onClick:function(t,a){var n=a.value;return e.updateBook(e.book,n)},value:"wantToRead",icon:"book",selected:"wantToRead"===e.book.shelf,text:"Want To Read"}),o.a.createElement(E.a.Item,{onClick:function(t,a){var n=a.value;return e.updateBook(e.book,n)},value:"read",icon:"book",selected:"read"===e.book.shelf,text:"Read"}),o.a.createElement(E.a.Item,{onClick:function(t,a){var n=a.value;return e.updateBook(e.book,n)},value:"none",icon:"book",selected:void 0===e.book.shelf,text:"None"}))))))},j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).updateBook=function(e,t){a.props.updateBook(e,t)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(b.a,{style:{marginTop:"7em"}},o.a.createElement(p.a,{as:"h3"},o.a.createElement(f.a,{circular:!0,name:"book"}),this.props.category),0===this.props.bookList.length?o.a.createElement(d.a,{negative:!0},o.a.createElement(d.a.Header,null,"No book to show"),o.a.createElement("p",null,"move some book to here ;)")):o.a.createElement(k.a.Group,null,this.props.bookList.map(function(t){return o.a.createElement(S,{key:t.id,book:t,updateBook:e.updateBook})}))))}}]),t}(n.Component),B=a(325),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={query:"",booksBySearch:void 0},a.updateQuery=function(e){a.setState(function(){return{query:e.trim()}}),a.props.searchBook(e.trim()).then(function(e){a.setState(function(){return{booksBySearch:a.updateBookSearch(e)}})})},a.updateBookSearch=function(e){var t=a.props.bookList;if(console.log(t),console.log(e),""===a.state.query||void 0===t.length||void 0===e||void 0===e.length)return[];t.map(function(t){return e.map(function(e){return e.id}).includes(t.id)&&(e[e.map(function(e){return e.id}).indexOf(t.id)].shelf=t.shelf),t});return e},a.clearQuery=function(){a.updateQuery("")},a.checkDuplicate=function(e,t){a.state.booksBySearch;var n=a.props.bookList;a.props.teste(e,t,n.map(function(e){return e.id}).includes(e.id))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(b.a,{style:{marginTop:"7em"}},o.a.createElement(B.a,{value:this.state.query,onChange:function(t){return e.updateQuery(t.target.value)},size:"large",fluid:!0,icon:"search",placeholder:"Search a book"}),void 0!==this.state.booksBySearch&&this.state.booksBySearch.length>0?o.a.createElement(j,{updateBook:this.checkDuplicate,category:"Results:",bookList:this.state.booksBySearch}):"")}}]),t}(n.Component),O=a(326),x=a(107),C="https://reactnd-books-api.udacity.com",R=localStorage.token;R||(R=localStorage.token=Math.random().toString(36).substr(-8));var T={Accept:"application/json",Authorization:R},I=function(e,t){return fetch("".concat(C,"/books/").concat(e.id),{method:"PUT",headers:Object(x.a)({},T,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},L=function(e){return fetch("".concat(C,"/search"),{method:"POST",headers:Object(x.a)({},T,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},M=a(321),A=a(327),z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={url:"",books:void 0},a.updateBookList=function(e,t,n){I(e,t).then(function(){var o=Object(i.a)(a.state.books);o=o.map(function(a){return a.id==e.id&&(a.shelf=t),a}),!0===n||void 0===n?a.setState({books:o}):(e.shelf=t,a.setState({books:Object(i.a)(o).concat([e])}))})},a.searchBook=function(e){return L(e).then(function(e){return e})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("".concat(C,"/books"),{headers:T}).then(function(e){return e.json()}).then(function(e){return e.books}).then(function(t){e.setState(function(){return{books:t}})})}},{key:"render",value:function(){var e=this,t=[{title:"Current Reading",key:"currentlyReading"},{title:"Want to Read",key:"wantToRead"},{title:"Read",key:"read"}];return o.a.createElement("div",null,o.a.createElement(O.a,{fixed:"top",inverted:!0},o.a.createElement(b.a,null,o.a.createElement(O.a.Item,{header:!0},o.a.createElement(v.a,{size:"mini",src:"/favicon.ico",style:{marginRight:"1.5em"}}),o.a.createElement(M.a,{to:"/"},"MyReads")),o.a.createElement(O.a.Item,{position:"right"},o.a.createElement(M.a,{to:"/search"},"Search")))),void 0===this.state.books?"":o.a.createElement(A.a,{exact:!0,path:"/",render:function(){return o.a.createElement("div",null,o.a.createElement("div",null,t.map(function(t){return o.a.createElement(j,{updateBook:e.updateBookList,key:t.key,bookList:e.state.books.filter(function(e){return e.shelf===t.key}),category:t.title})})))}}),o.a.createElement(A.a,{exact:!0,path:"/search",render:function(){return o.a.createElement(w,{bookList:e.state.books,teste:e.updateBookList,searchBook:e.searchBook})}}))}}]),t}(n.Component),q=(a(309),a(311),a(328));c.a.render(o.a.createElement(q.a,null,o.a.createElement(z,null)),document.getElementById("root"))}},[[172,2,1]]]);
//# sourceMappingURL=main.d731b209.chunk.js.map